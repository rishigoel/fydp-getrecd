(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,r){t.exports=r(23)},17:function(t,e,r){},21:function(t,e,r){},23:function(t,e,r){"use strict";r.r(e);var o=r(0),n=r.n(o),a=r(3),s=r.n(a),i=(r(17),r(1)),u=r.n(i),p=r(4),l=r(5),c=r(6),y=r(9),f=r(7),d=r(10),m=(r(21),r(8)),v=new(r.n(m).a),g="spotify-auth-key",T="FYDPPlaylistTest",h="spotify:track:",k=[String],w=[String],P=[String];function b(){v.getMyTopTracks().then(function(t){for(var e in t.items)k.push(t.items[e].id);!function(){for(var t in(w=k).shift(),w)P.push(h+w[t]);P.shift(),console.log(P),v.createPlaylist({name:T}).then(function(t){console.log(t),v.addTracksToPlaylist(t.id,{uris:P}).then(function(t){console.log(t)})})}()})}var E=function(t){function e(){var t,r;Object(l.a)(this,e);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(r=Object(y.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(n)))).callBackendAPI=Object(p.a)(u.a.mark(function t(){var e,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/");case 2:return e=t.sent,t.next=5,e.json();case 5:if(r=t.sent,200===e.status){t.next=8;break}throw Error(r.message);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)})),r}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t,e=this,r=function(){for(var t,e={},r=/([^&;=]+)=?([^&;]*)/g,o=window.location.hash.substring(1);t=r.exec(o);)e[t[1]]=decodeURIComponent(t[2]);return e}();r.access_token?(console.log(r.access_token),t=r.access_token,v.setAccessToken(t),b()):function(){localStorage.removeItem(g);var t=function(t){for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";e.length<=t;)e+=r.charAt(Math.floor(Math.random()*r.length));return e}(16);localStorage.setItem(g,t);var e="https://accounts.spotify.com/authorize?client_id=3f2b320cfc4f4af5a106fa21e6bc8d0c&redirect_uri="+encodeURIComponent("https://rishigoel.github.io/fypd-getrecd")+"&scope="+encodeURIComponent(["user-top-read","playlist-modify-public","playlist-modify-private"].join(" "))+"&response_type=token&state="+encodeURIComponent(t);window.location.href=e}(),this.callBackendAPI().then(function(t){return e.setState({data:t.express})}).catch(function(t){return console.log(t)})}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},"Get Rec'd")}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,e,r){"use strict";var o=function(){var t="https://api.spotify.com/v1",e=null,r=null,n=function(t,e){return t.abort=e,t},a=function(){var t=Array.prototype.slice.call(arguments),e=t[0],r=t.slice(1);return e=e||{},r.forEach(function(t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}),e},s=function(t,o){var a=new XMLHttpRequest,s=function(r,n){var s=t.type||"GET";if(a.open(s,function(t,e){var r="";for(var o in e)if(e.hasOwnProperty(o)){var n=e[o];r+=encodeURIComponent(o)+"="+encodeURIComponent(n)+"&"}return r.length>0&&(t=t+"?"+(r=r.substring(0,r.length-1))),t}(t.url,t.params)),e&&a.setRequestHeader("Authorization","Bearer "+e),t.contentType&&a.setRequestHeader("Content-Type",t.contentType),a.onreadystatechange=function(){if(4===a.readyState){var t=null;try{t=a.responseText?JSON.parse(a.responseText):""}catch(e){console.error(e)}a.status>=200&&a.status<300?function(t){r&&r(t),o&&o(null,t)}(t):(n&&n(a),o&&o(a,null))}},"GET"===s)a.send(null);else{var i=null;t.postData&&(i="image/jpeg"===t.contentType?t.postData:JSON.stringify(t.postData)),a.send(i)}};return o?(s(),null):function(t,e){var o;if(null!==r){var a=r.defer();t(function(t){a.resolve(t)},function(t){a.reject(t)}),o=a.promise}else window.Promise&&(o=new window.Promise(t));return o?new n(o,e):null}(s,function(){a.abort()})},i=function(t,e,r,o){var n={},i=null;return"object"===typeof e?(n=e,i=r):"function"===typeof e&&(i=e),"GET"!==(t.type||"GET")&&t.postData&&!o?t.postData=a(t.postData,n):t.params=a(t.params,n),s(t,i)},u=function(){};return(u.prototype={constructor:o}).getGeneric=function(t,e){return i({url:t},e)},u.prototype.getMe=function(e,r){return i({url:t+"/me"},e,r)},u.prototype.getMySavedTracks=function(e,r){return i({url:t+"/me/tracks"},e,r)},u.prototype.addToMySavedTracks=function(e,r,o){return i({url:t+"/me/tracks",type:"PUT",postData:e},r,o)},u.prototype.removeFromMySavedTracks=function(e,r,o){return i({url:t+"/me/tracks",type:"DELETE",postData:e},r,o)},u.prototype.containsMySavedTracks=function(e,r,o){var n={url:t+"/me/tracks/contains",params:{ids:e.join(",")}};return i(n,r,o)},u.prototype.getMySavedAlbums=function(e,r){return i({url:t+"/me/albums"},e,r)},u.prototype.addToMySavedAlbums=function(e,r,o){return i({url:t+"/me/albums",type:"PUT",postData:e},r,o)},u.prototype.removeFromMySavedAlbums=function(e,r,o){return i({url:t+"/me/albums",type:"DELETE",postData:e},r,o)},u.prototype.containsMySavedAlbums=function(e,r,o){var n={url:t+"/me/albums/contains",params:{ids:e.join(",")}};return i(n,r,o)},u.prototype.getMyTopArtists=function(e,r){return i({url:t+"/me/top/artists"},e,r)},u.prototype.getMyTopTracks=function(e,r){return i({url:t+"/me/top/tracks"},e,r)},u.prototype.getMyRecentlyPlayedTracks=function(e,r){return i({url:t+"/me/player/recently-played"},e,r)},u.prototype.followUsers=function(e,r){var o={url:t+"/me/following/",type:"PUT",params:{ids:e.join(","),type:"user"}};return i(o,r)},u.prototype.followArtists=function(e,r){var o={url:t+"/me/following/",type:"PUT",params:{ids:e.join(","),type:"artist"}};return i(o,r)},u.prototype.followPlaylist=function(e,r,o){return i({url:t+"/playlists/"+e+"/followers",type:"PUT",postData:{}},r,o)},u.prototype.unfollowUsers=function(e,r){var o={url:t+"/me/following/",type:"DELETE",params:{ids:e.join(","),type:"user"}};return i(o,r)},u.prototype.unfollowArtists=function(e,r){var o={url:t+"/me/following/",type:"DELETE",params:{ids:e.join(","),type:"artist"}};return i(o,r)},u.prototype.unfollowPlaylist=function(e,r){return i({url:t+"/playlists/"+e+"/followers",type:"DELETE"},r)},u.prototype.isFollowingUsers=function(e,r){var o={url:t+"/me/following/contains",type:"GET",params:{ids:e.join(","),type:"user"}};return i(o,r)},u.prototype.isFollowingArtists=function(e,r){var o={url:t+"/me/following/contains",type:"GET",params:{ids:e.join(","),type:"artist"}};return i(o,r)},u.prototype.areFollowingPlaylist=function(e,r,o){var n={url:t+"/playlists/"+e+"/followers/contains",type:"GET",params:{ids:r.join(",")}};return i(n,o)},u.prototype.getFollowedArtists=function(e,r){return i({url:t+"/me/following",type:"GET",params:{type:"artist"}},e,r)},u.prototype.getUser=function(e,r,o){var n={url:t+"/users/"+encodeURIComponent(e)};return i(n,r,o)},u.prototype.getUserPlaylists=function(e,r,o){var n;return"string"===typeof e?n={url:t+"/users/"+encodeURIComponent(e)+"/playlists"}:(n={url:t+"/me/playlists"},o=r,r=e),i(n,r,o)},u.prototype.getPlaylist=function(e,r,o){return i({url:t+"/playlists/"+e},r,o)},u.prototype.getPlaylistTracks=function(e,r,o){return i({url:t+"/playlists/"+e+"/tracks"},r,o)},u.prototype.createPlaylist=function(e,r){return i({url:t+"/me/playlists",type:"POST",postData:e},e,r)},u.prototype.changePlaylistDetails=function(e,r,o){return i({url:t+"/playlists/"+e,type:"PUT",postData:r},r,o)},u.prototype.addTracksToPlaylist=function(e,r,o,n){return i({url:t+"/playlists/"+e+"/tracks",type:"POST",postData:r},o,n,!0)},u.prototype.replaceTracksInPlaylist=function(e,r,o){return i({url:t+"/playlists/"+e+"/tracks",type:"PUT",postData:{uris:r}},{},o)},u.prototype.reorderTracksInPlaylist=function(e,r,o,n,a){return i({url:t+"/playlists/"+e+"/tracks",type:"PUT",postData:{range_start:r,insert_before:o}},n,a)},u.prototype.removeTracksFromPlaylist=function(e,r,o){var n=r.map(function(t){return"string"===typeof t?{uri:t}:t});return i({url:t+"/playlists/"+e+"/tracks",type:"DELETE",postData:{tracks:n}},{},o)},u.prototype.removeTracksFromPlaylistWithSnapshotId=function(e,r,o,n){var a=r.map(function(t){return"string"===typeof t?{uri:t}:t});return i({url:t+"/playlists/"+e+"/tracks",type:"DELETE",postData:{tracks:a,snapshot_id:o}},{},n)},u.prototype.removeTracksFromPlaylistInPositions=function(e,r,o,n){return i({url:t+"/playlists/"+e+"/tracks",type:"DELETE",postData:{positions:r,snapshot_id:o}},{},n)},u.prototype.uploadCustomPlaylistCoverImage=function(e,r,o){var n={url:t+"/playlists/"+e+"/images",type:"PUT",postData:r.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return i(n,{},o)},u.prototype.getAlbum=function(e,r,o){return i({url:t+"/albums/"+e},r,o)},u.prototype.getAlbumTracks=function(e,r,o){return i({url:t+"/albums/"+e+"/tracks"},r,o)},u.prototype.getAlbums=function(e,r,o){var n={url:t+"/albums/",params:{ids:e.join(",")}};return i(n,r,o)},u.prototype.getTrack=function(e,r,o){var n={};return n.url=t+"/tracks/"+e,i(n,r,o)},u.prototype.getTracks=function(e,r,o){var n={url:t+"/tracks/",params:{ids:e.join(",")}};return i(n,r,o)},u.prototype.getArtist=function(e,r,o){return i({url:t+"/artists/"+e},r,o)},u.prototype.getArtists=function(e,r,o){var n={url:t+"/artists/",params:{ids:e.join(",")}};return i(n,r,o)},u.prototype.getArtistAlbums=function(e,r,o){return i({url:t+"/artists/"+e+"/albums"},r,o)},u.prototype.getArtistTopTracks=function(e,r,o,n){return i({url:t+"/artists/"+e+"/top-tracks",params:{country:r}},o,n)},u.prototype.getArtistRelatedArtists=function(e,r,o){return i({url:t+"/artists/"+e+"/related-artists"},r,o)},u.prototype.getFeaturedPlaylists=function(e,r){return i({url:t+"/browse/featured-playlists"},e,r)},u.prototype.getNewReleases=function(e,r){return i({url:t+"/browse/new-releases"},e,r)},u.prototype.getCategories=function(e,r){return i({url:t+"/browse/categories"},e,r)},u.prototype.getCategory=function(e,r,o){return i({url:t+"/browse/categories/"+e},r,o)},u.prototype.getCategoryPlaylists=function(e,r,o){return i({url:t+"/browse/categories/"+e+"/playlists"},r,o)},u.prototype.search=function(e,r,o,n){var a={url:t+"/search/",params:{q:e,type:r.join(",")}};return i(a,o,n)},u.prototype.searchAlbums=function(t,e,r){return this.search(t,["album"],e,r)},u.prototype.searchArtists=function(t,e,r){return this.search(t,["artist"],e,r)},u.prototype.searchTracks=function(t,e,r){return this.search(t,["track"],e,r)},u.prototype.searchPlaylists=function(t,e,r){return this.search(t,["playlist"],e,r)},u.prototype.getAudioFeaturesForTrack=function(e,r){var o={};return o.url=t+"/audio-features/"+e,i(o,{},r)},u.prototype.getAudioFeaturesForTracks=function(e,r){return i({url:t+"/audio-features",params:{ids:e}},{},r)},u.prototype.getAudioAnalysisForTrack=function(e,r){var o={};return o.url=t+"/audio-analysis/"+e,i(o,{},r)},u.prototype.getRecommendations=function(e,r){return i({url:t+"/recommendations"},e,r)},u.prototype.getAvailableGenreSeeds=function(e){return i({url:t+"/recommendations/available-genre-seeds"},{},e)},u.prototype.getMyDevices=function(e){return i({url:t+"/me/player/devices"},{},e)},u.prototype.getMyCurrentPlaybackState=function(e,r){return i({url:t+"/me/player"},e,r)},u.prototype.getMyCurrentPlayingTrack=function(e,r){return i({url:t+"/me/player/currently-playing"},e,r)},u.prototype.transferMyPlayback=function(e,r,o){var n=r||{};return n.device_ids=e,i({type:"PUT",url:t+"/me/player",postData:n},r,o)},u.prototype.play=function(e,r){var o="device_id"in(e=e||{})?{device_id:e.device_id}:null,n={};return["context_uri","uris","offset","position_ms"].forEach(function(t){t in e&&(n[t]=e[t])}),i({type:"PUT",url:t+"/me/player/play",params:o,postData:n},"function"===typeof e?e:{},r)},u.prototype.pause=function(e,r){var o="device_id"in(e=e||{})?{device_id:e.device_id}:null;return i({type:"PUT",url:t+"/me/player/pause",params:o},e,r)},u.prototype.skipToNext=function(e,r){var o="device_id"in(e=e||{})?{device_id:e.device_id}:null;return i({type:"POST",url:t+"/me/player/next",params:o},e,r)},u.prototype.skipToPrevious=function(e,r){var o="device_id"in(e=e||{})?{device_id:e.device_id}:null;return i({type:"POST",url:t+"/me/player/previous",params:o},e,r)},u.prototype.seek=function(e,r,o){var n={position_ms:e};return"device_id"in r&&(n.device_id=r.device_id),i({type:"PUT",url:t+"/me/player/seek",params:n},r,o)},u.prototype.setRepeat=function(e,r,o){var n={state:e};return"device_id"in r&&(n.device_id=r.device_id),i({type:"PUT",url:t+"/me/player/repeat",params:n},r,o)},u.prototype.setVolume=function(e,r,o){var n={volume_percent:e};return"device_id"in r&&(n.device_id=r.device_id),i({type:"PUT",url:t+"/me/player/volume",params:n},r,o)},u.prototype.setShuffle=function(e,r,o){var n={state:e};return"device_id"in r&&(n.device_id=r.device_id),i({type:"PUT",url:t+"/me/player/shuffle",params:n},r,o)},u.prototype.getAccessToken=function(){return e},u.prototype.setAccessToken=function(t){e=t},u.prototype.setPromiseImplementation=function(t){var e=!1;try{var o=new t(function(t){t()});"function"===typeof o.then&&"function"===typeof o.catch&&(e=!0)}catch(n){console.error(n)}if(!e)throw new Error("Unsupported implementation of Promises/A+");r=t},u}();"object"===typeof t&&"object"===typeof t.exports&&(t.exports=o)}},[[11,2,1]]]);
//# sourceMappingURL=main.c435c947.chunk.js.map